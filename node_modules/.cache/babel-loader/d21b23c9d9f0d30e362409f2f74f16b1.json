{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DetailNavBar from \"./childComps/DetailNavBar\";\nimport DetailSwiper from \"./childComps/DetailSwiper\";\nimport DetailBaseInfo from \"./childComps/DetailBaseInfo\";\nimport DetailShopInfo from \"./childComps/DetailShopInfo\";\nimport DetailGoodsInfo from \"./childComps/DetailGoodsInfo\";\nimport DetailParamInfo from \"./childComps/DetailParamInfo\";\nimport Scroll from \"components/common/scroll/Scroll\";\nimport { getDetail, Goods, Shop, GoodsParam } from \"../../network/detail\"; //传入事件\n\nexport default {\n  name: \"Detail\",\n  components: {\n    DetailNavBar: DetailNavBar,\n    DetailSwiper: DetailSwiper,\n    DetailBaseInfo: DetailBaseInfo,\n    DetailShopInfo: DetailShopInfo,\n    Scroll: Scroll,\n    DetailGoodsInfo: DetailGoodsInfo,\n    DetailParamInfo: DetailParamInfo\n  },\n  data: function data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop: {},\n      detailInfo: {},\n      paramInfo: {},\n      commonInfo: {}\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    //1保存传入的iid\n    this.iid = this.$route.params.iid; //2.根据iid请求详情数据\n\n    getDetail(this.iid).then(function (res) {\n      //1)获取顶部轮播图数据\n      console.log(res);\n      var data1 = res.data.result;\n      _this.topImages = data1.itemInfo.topImages; //2)获取商品信息\n\n      _this.goods = new Goods(data1.itemInfo, data1.columns, data1.shopInfo.services); //3)创建店铺信息\n\n      _this.shop = new Shop(data1.shopInfo); //4)保存商品详情数据\n\n      _this.detailInfo = data1.detailInfo; //5)获取参数信息\n\n      _this.paramInfo = new GoodsParam(data1.itemParams.info, data1.itemParams.rule);\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,0E,CAAA;;AACA;AACAA,gBADA;AAEAC;AACAC,8BADA;AAEAC,8BAFA;AAGAC,kCAHA;AAIAC,kCAJA;AAKAC,kBALA;AAMAC,oCANA;AAOAC;AAPA,GAFA;AAWAC,MAXA,kBAWA;AACA;AACAC,eADA;AAEAC,mBAFA;AAGAC,eAHA;AAIAC,cAJA;AAKAC,oBALA;AAMAC,mBANA;AAOAC;AAPA;AASA,GArBA;AAsBAC,SAtBA,qBAsBA;AAAA;;AACA;AACA,sCAFA,CAGA;;AACAC;AACA;AACAC;AACA;AACA,iDAJA,CAKA;;AACA,sFANA,CAOA;;AACA,4CARA,CASA;;AACA,0CAVA,CAWA;;AACA;AACA,KAbA;AAcA;AAxCA","names":["name","components","DetailNavBar","DetailSwiper","DetailBaseInfo","DetailShopInfo","Scroll","DetailGoodsInfo","DetailParamInfo","data","iid","topImages","goods","shop","detailInfo","paramInfo","commonInfo","created","getDetail","console"],"sourceRoot":"src/views/detail","sources":["Detail.vue"],"sourcesContent":["<template>\n<div id=\"detail\"><!--导航栏比较复杂，不能直接在这里做，要封装一个模块 -->\n <detail-nav-bar class=\"detail-nav\"></detail-nav-bar>\n  <scroll class=\"content\"><!--把要滚动的区域直接放在scroll里面 必须有固定高度-->\n  <detail-swiper :top-images=\"topImages\"></detail-swiper><!--把topImages传过去-->\n  <detail-base-info :goods=\"goods\"></detail-base-info>\n  <detail-shop-info :shop=\"shop\"></detail-shop-info>\n    <detail-goods-info :detail-info=\"detailInfo\"></detail-goods-info>\n    <detail-param-info :param-info=\"paramInfo\"></detail-param-info>\n  </scroll>\n</div>\n</template>\n\n<script>\n  import DetailNavBar from \"./childComps/DetailNavBar\";\n  import DetailSwiper from \"./childComps/DetailSwiper\";\n  import DetailBaseInfo from \"./childComps/DetailBaseInfo\";\n  import DetailShopInfo from \"./childComps/DetailShopInfo\";\n  import DetailGoodsInfo from \"./childComps/DetailGoodsInfo\";\n  import DetailParamInfo from \"./childComps/DetailParamInfo\";\n\n  import Scroll from \"components/common/scroll/Scroll\";\n\n  import {getDetail,Goods,Shop,GoodsParam} from \"../../network/detail\"; //传入事件\n  export default {\n    name: \"Detail\",\n    components:{\n      DetailNavBar,\n      DetailSwiper,\n      DetailBaseInfo,\n      DetailShopInfo,\n      Scroll,\n      DetailGoodsInfo,\n      DetailParamInfo\n    },\n    data(){\n      return {\n        iid:null,\n        topImages:[],\n        goods:{},\n        shop:{},\n        detailInfo:{},\n        paramInfo: {},\n        commonInfo:{}\n      }\n    },\n    created(){\n      //1保存传入的iid\n      this.iid=this.$route.params.iid\n      //2.根据iid请求详情数据\n      getDetail(this.iid).then(res =>{\n        //1)获取顶部轮播图数据\n        console.log(res);\n        const data1=res.data.result;\n      this.topImages=data1.itemInfo.topImages;\n      //2)获取商品信息\n      this.goods=new Goods(data1.itemInfo,data1.columns,data1.shopInfo.services)\n        //3)创建店铺信息\n        this.shop=new Shop(data1.shopInfo)\n        //4)保存商品详情数据\n        this.detailInfo=data1.detailInfo\n        //5)获取参数信息\n        this.paramInfo=new GoodsParam(data1.itemParams.info,data1.itemParams.rule)\n      })\n    }\n  }\n</script>\n\n<style scoped>\n#detail {\n  position: relative;\n  z-index: 9;\n  background-color: #fff;\n  height: 100vh; /* 100%视图高度 */\n}\n.detail-nav {\n  position: relative;\n  z-index: 9;\n  background-color: #fff;\n}\n  .content {\n    height: calc(100% - 44px);\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}