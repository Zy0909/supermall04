{"ast":null,"code":"import \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex'; //1.安装插件\n\nVue.use(Vuex); //2.创建store对象\n\nvar store = new Vuex.Store({\n  state: {\n    cartList: [] //数组里面放很多对象\n\n  },\n  mutations: {\n    addCart: function addCart(state, payload) {\n      //payload是传进来的product数据\n      //payload新添加进去的商品\n      //let oldProduct=null\n      //for(let item of state.cartList){\n      // if(item.iid===payload.iid){\n      //  oldProduct=item\n      // }\n      //}\n      //查找之前数组中是否有该商品 //查找cartList里面item.iid是否有相同，如果有，传入item给product\n      var oldProduct = state.cartList.find(function (item) {\n        return item.iid === payload.iid;\n      }); //2.判断oldProduct是否有值\n\n      if (oldProduct) {\n        oldProduct.count += 1;\n      } else {\n        oldProduct.count = 1;\n        state.cartList.push(payload);\n      }\n    }\n  }\n}); //3.挂载到vue实例\n\nexport default store;","map":{"version":3,"sources":["D:/桌面/文件/前端/vue/9.supermall/supermall1/src/store/index.js"],"names":["Vue","Vuex","use","store","Store","state","cartList","mutations","addCart","payload","oldProduct","find","item","iid","count","push"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAEA;;AACAD,GAAG,CAACE,GAAJ,CAAQD,IAAR,E,CAEA;;AACA,IAAME,KAAK,GAAG,IAAIF,IAAI,CAACG,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAC;AACJC,IAAAA,QAAQ,EAAC,EADL,CACO;;AADP,GADoB;AAI3BC,EAAAA,SAAS,EAAC;AACPC,IAAAA,OADO,mBACCH,KADD,EACOI,OADP,EACe;AAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAIC,UAAU,GAAGL,KAAK,CAACC,QAAN,CAAeK,IAAf,CAAoB,UAAAC,IAAI;AAAA,eACvCA,IAAI,CAACC,GAAL,KAAaJ,OAAO,CAACI,GADkB;AAAA,OAAxB,CAAjB,CAToB,CAYpB;;AACA,UAAIH,UAAJ,EAAe;AACbA,QAAAA,UAAU,CAACI,KAAX,IAAkB,CAAlB;AACD,OAFD,MAEM;AACJJ,QAAAA,UAAU,CAACI,KAAX,GAAmB,CAAnB;AACAT,QAAAA,KAAK,CAACC,QAAN,CAAeS,IAAf,CAAoBN,OAApB;AACD;AAEF;AArBM;AAJiB,CAAf,CAAd,C,CA6BA;;AACA,eAAeN,KAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\n//1.安装插件\nVue.use(Vuex)\n\n//2.创建store对象\nconst store = new Vuex.Store({\n   state:{\n     cartList:[]//数组里面放很多对象\n},\n  mutations:{\n     addCart(state,payload){ //payload是传进来的product数据\n       //payload新添加进去的商品\n       //let oldProduct=null\n       //for(let item of state.cartList){\n       // if(item.iid===payload.iid){\n       //  oldProduct=item\n       // }\n       //}\n       //查找之前数组中是否有该商品 //查找cartList里面item.iid是否有相同，如果有，传入item给product\n       let oldProduct = state.cartList.find(item =>\n         item.iid === payload.iid\n       )\n       //2.判断oldProduct是否有值\n       if (oldProduct){\n         oldProduct.count+=1\n       }else {\n         oldProduct.count = 1\n         state.cartList.push(payload)\n       }\n\n     }\n  }\n})\n\n//3.挂载到vue实例\nexport default store\n"]},"metadata":{},"sourceType":"module"}