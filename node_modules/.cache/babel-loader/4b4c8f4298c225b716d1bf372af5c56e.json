{"ast":null,"code":"import _objectSpread from \"D:/\\u684C\\u9762/\\u6587\\u4EF6/\\u524D\\u7AEF/vue/9.supermall/supermall1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.filter.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CheckButton from \"components/content/checkButton/CheckButton\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: \"CartBottomBar\",\n  components: {\n    CheckButton: CheckButton\n  },\n  data: function data() {\n    return {};\n  },\n  methods: {\n    checkBtnClick: function checkBtnClick() {\n      // let isSelectAll = this.cartList.some(item => !item.checked)\n      var isSelectAll = this.isSelectAll;\n      this.cartList.forEach(function (item) {\n        isSelectAll ? item.checked = false : item.checked = true;\n      });\n    },\n    settleAccounts: function settleAccounts() {\n      if (this.checkLength == 0) {\n        this.$toast.show('请选择商品');\n      }\n    }\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters(['cartList'])), {}, {\n    totalPrice: function totalPrice() {\n      return this.$store.state.cartList.filter(function (item) {\n        return item.checked;\n      }).reduce(function (preValue, item) {\n        return preValue + item.price * item.count;\n      }, 0).toFixed(2);\n    },\n    checkLength: function checkLength() {\n      return this.$store.state.cartList.filter(function (item) {\n        return item.checked;\n      }, 0).length;\n    },\n    isSelectAll: function isSelectAll() {\n      if (this.cartList.length === 0) return false;\n      return this.cartList.every(function (item) {\n        return item.checked;\n      });\n    }\n  })\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;AAUA;AACA;AACA;AACAA,uBADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACA,GAPA;AAQAC;AACAC,iBADA,2BACA;AACA;AACA;AACA;AACAC;AACA,OAFA;AAGA,KAPA;AAQAC,kBARA,4BAQA;AACA;AACA;AACA;AACA;AAZA,GARA;AAsBAC,4CACAC,wBADA;AAGAC,cAHA,wBAGA;AACA;AACA;AAAA,OADA,EACAC,MADA,CACA;AACA;AACA,OAHA,EAGA,CAHA,EAGAC,OAHA,CAGA,CAHA;AAIA,KARA;AAUAC,eAVA,yBAUA;AACA;AACA;AACA,OAFA,EAEA,CAFA,EAEAC,MAFA;AAGA,KAdA;AAgBAR,eAhBA,yBAgBA;AACA;AACA;AAAA;AAAA;AACA;AAnBA;AAtBA","names":["name","components","CheckButton","data","methods","checkBtnClick","isSelectAll","settleAccounts","computed","mapGetters","totalPrice","reduce","toFixed","checkLength","length"],"sourceRoot":"src/views/cart/childComps","sources":["CartBottomBar.vue"],"sourcesContent":["<template>\n  <div class=\"bottom-menu\">\n    <check-button class=\"select-all\" :isChecked=\"isSelectAll\" @checkBtnClick=\"checkBtnClick\"></check-button>\n    <span>全选</span>\n    <span class=\"total-price\">合计:{{ totalPrice }}</span>\n    <span class=\"buy-product\" @click=\"checkLength\">去结算:{{ checkLength }}</span>\n  </div>\n</template>\n\n<script>\nimport CheckButton from \"components/content/checkButton/CheckButton\";\nimport { mapGetters } from 'vuex'\nexport default {\n  name: \"CartBottomBar\",\n  components: {\n    CheckButton\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    checkBtnClick() {\n      // let isSelectAll = this.cartList.some(item => !item.checked)\n      let isSelectAll = this.isSelectAll\n      this.cartList.forEach(item => {\n        isSelectAll ? item.checked = false : item.checked = true\n      })\n    },\n    settleAccounts() {\n      if (this.checkLength == 0) {\n        this.$toast.show('请选择商品')\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['cartList']),\n\n    totalPrice() {\n      return this.$store.state.cartList.filter( item => {\n        return item.checked}).reduce((preValue,item) => {\n          return preValue + item.price * item.count\n      },0).toFixed(2)\n    },\n\n    checkLength() {\n      return this.$store.state.cartList.filter( item => {\n        return item.checked\n      },0).length\n    },\n\n    isSelectAll() {\n      if (this.cartList.length === 0)  return false\n      return this.cartList.every(item => item.checked)\n    }\n  }\n};\n</script>\n\n<style scoped>\n  .bottom-menu {\n    width: 100%;\n    height: 44px;\n    background-color: #eee;\n    position: fixed;\n    bottom: 49px;\n    left: 0;\n    box-shadow: 0 -2px 3px rgba(0, 0, 0, .2);\n    font-size: 14px;\n    color: #888;\n    line-height: 44px;\n    padding-left: 35px;\n    box-sizing: border-box;\n  }\n\n  .bottom-menu .select-all {\n    position: absolute;\n    line-height: 0;\n    left: 12px;\n    top: 13px;\n  }\n\n  .bottom-menu .total-price {\n    margin-left: 15px;\n    font-size: 16px;\n    color: #666;\n  }\n\n  .bottom-menu .buy-product {\n    background-color: orangered;\n    color: #fff;\n    width: 100px;\n    height: 44px;\n    text-align: center;\n    line-height: 44px;\n    float: right;\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}